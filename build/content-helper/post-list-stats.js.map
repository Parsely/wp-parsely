{"version":3,"file":"content-helper/post-list-stats.js","mappings":"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","sources":["webpack://wp-parsely/webpack/bootstrap","webpack://wp-parsely/webpack/runtime/define property getters","webpack://wp-parsely/webpack/runtime/hasOwnProperty shorthand","webpack://wp-parsely/webpack/runtime/make namespace object","webpack://wp-parsely/./src/content-helper/post-list-stats/post-list-stats.ts","webpack://wp-parsely/./src/content-helper/post-list-stats/post-list-stats.scss?0838"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","document.addEventListener('DOMContentLoaded', function () {\n    showParselyPostsStatsResponse();\n});\n/**\n * Shows Parse.ly Post Stats or Error depending on response.\n */\nexport function showParselyPostsStatsResponse() {\n    updateParselyStatsPlaceholder();\n    if (!window.wpParselyPostsStatsResponse) {\n        return;\n    }\n    var response = JSON.parse(window.wpParselyPostsStatsResponse);\n    if (response === null || response === void 0 ? void 0 : response.error) {\n        showParselyStatsError(response.error);\n        return;\n    }\n    if (response === null || response === void 0 ? void 0 : response.data) {\n        showParselyStats(response.data);\n    }\n}\n/**\n * Replaces Parse.ly Stats placeholder from default to differentiate while the API request\n * is in progress or completed.\n */\nfunction updateParselyStatsPlaceholder() {\n    var _a;\n    (_a = getAllPostStatsElements()) === null || _a === void 0 ? void 0 : _a.forEach(function (statsElement) {\n        statsElement.innerHTML = 'â€”';\n    });\n}\n/**\n * Shows Parse.ly Stats on available posts.\n *\n * @param {ParselyStatsMap} parselyStatsMap Object contains unique keys and Parse.ly Stats for posts.\n */\nfunction showParselyStats(parselyStatsMap) {\n    var _a;\n    if (!parselyStatsMap) {\n        return;\n    }\n    (_a = getAllPostStatsElements()) === null || _a === void 0 ? void 0 : _a.forEach(function (statsElement) {\n        var statsKey = statsElement.getAttribute('data-stats-key');\n        if (statsKey === null || parselyStatsMap[statsKey] === undefined) {\n            return;\n        }\n        var stats = parselyStatsMap[statsKey];\n        statsElement.innerHTML = '';\n        if (stats.page_views) {\n            statsElement.innerHTML += \"<span class=\\\"parsely-post-page-views\\\">\".concat(stats.page_views, \"</span><br/>\");\n        }\n        if (stats.visitors) {\n            statsElement.innerHTML += \"<span class=\\\"parsely-post-visitors\\\">\".concat(stats.visitors, \"</span><br/>\");\n        }\n        if (stats.avg_time) {\n            statsElement.innerHTML += \"<span class=\\\"parsely-post-avg-time\\\">\".concat(stats.avg_time, \"</span><br/>\");\n        }\n    });\n}\n/**\n * Shows Parse.ly Stats error as WP Admin Error Notice.\n *\n * @param {ParselyAPIErrorInfo} parselyStatsError Object which contians info about error.\n */\nfunction showParselyStatsError(parselyStatsError) {\n    var headerEndElement = document.querySelector('.wp-header-end'); // WP has this element before admin notices.\n    if (headerEndElement === null) {\n        return;\n    }\n    headerEndElement.innerHTML += getWPAdminError(parselyStatsError.htmlMessage);\n}\n/**\n * Gets all elements inside which we will show Parse.ly Stats.\n */\nfunction getAllPostStatsElements() {\n    return document.querySelectorAll('.parsely-post-stats');\n}\n/**\n * Gets HTML for showing error message as WP Admin Error Notice.\n *\n * @param {string} htmlMessage Message to show inside notice.\n */\nfunction getWPAdminError(htmlMessage) {\n    if (htmlMessage === void 0) { htmlMessage = ''; }\n    return \"<div class=\\\"error notice error-parsely-stats is-dismissible\\\">\".concat(htmlMessage, \"</div>\");\n}\n","// extracted by mini-css-extract-plugin\nexport {};"],"names":["document","addEventListener","showParselyPostsStatsResponse","updateParselyStatsPlaceholder","window","wpParselyPostsStatsResponse","response","JSON","parse","error","showParselyStatsError","data","showParselyStats","_a","getAllPostStatsElements","forEach","statsElement","innerHTML","parselyStatsMap","statsKey","getAttribute","undefined","stats","page_views","concat","visitors","avg_time","parselyStatsError","headerEndElement","querySelector","getWPAdminError","htmlMessage","querySelectorAll"],"sourceRoot":""}