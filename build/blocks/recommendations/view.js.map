{"version":3,"file":"blocks/recommendations/view.js","mappings":"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","sources":["webpack://wp-parsely/./src/blocks/recommendations/actions.js","webpack://wp-parsely/./src/blocks/recommendations/components/parsely-recommendations-fetcher.js","webpack://wp-parsely/./src/blocks/recommendations/components/parsely-recommendations-list-item.js","webpack://wp-parsely/./src/blocks/recommendations/components/parsely-recommendations-list.js","webpack://wp-parsely/./src/blocks/recommendations/components/parsely-recommendations-title.js","webpack://wp-parsely/./src/blocks/recommendations/components/parsely-recommendations.js","webpack://wp-parsely/./src/blocks/recommendations/constants.js","webpack://wp-parsely/./src/blocks/recommendations/recommendations-store.js","webpack://wp-parsely/external window \"regeneratorRuntime\"","webpack://wp-parsely/external window [\"wp\",\"apiFetch\"]","webpack://wp-parsely/external window [\"wp\",\"components\"]","webpack://wp-parsely/external window [\"wp\",\"compose\"]","webpack://wp-parsely/external window [\"wp\",\"domReady\"]","webpack://wp-parsely/external window [\"wp\",\"element\"]","webpack://wp-parsely/external window [\"wp\",\"i18n\"]","webpack://wp-parsely/external window [\"wp\",\"url\"]","webpack://wp-parsely/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://wp-parsely/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://wp-parsely/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://wp-parsely/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://wp-parsely/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://wp-parsely/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://wp-parsely/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://wp-parsely/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://wp-parsely/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://wp-parsely/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://wp-parsely/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://wp-parsely/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://wp-parsely/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://wp-parsely/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://wp-parsely/webpack/bootstrap","webpack://wp-parsely/webpack/runtime/compat get default export","webpack://wp-parsely/webpack/runtime/define property getters","webpack://wp-parsely/webpack/runtime/hasOwnProperty shorthand","webpack://wp-parsely/webpack/runtime/make namespace object","webpack://wp-parsely/./src/blocks/recommendations/view.js"],"sourcesContent":["import { RECOMMENDATIONS_BLOCK_ERROR, RECOMMENDATIONS_BLOCK_LOADED, RECOMMENDATIONS_BLOCK_RECOMMENDATIONS } from './constants';\n\nexport const setError = ( { error } ) => ( {\n\ttype: RECOMMENDATIONS_BLOCK_ERROR,\n\terror,\n} );\n\nexport const setRecommendations = ( { recommendations } ) => ( {\n\ttype: RECOMMENDATIONS_BLOCK_RECOMMENDATIONS,\n\trecommendations,\n} );\n\nexport const setLoaded = () => ( {\n\ttype: RECOMMENDATIONS_BLOCK_LOADED,\n} );\n","/**\n * External dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\nimport { useDebounce } from '@wordpress/compose';\nimport { useCallback, useEffect } from '@wordpress/element';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { setError, setRecommendations } from '../actions';\nimport { useRecommendationsStore } from '../recommendations-store';\n\nconst updateDelay = 300; // The Block's update delay in the Block Editor when settings/props change.\n\nconst ParselyRecommendationsFetcher = ( { boost, limit, sort, isEditMode } ) => {\n\tconst {\tdispatch } = useRecommendationsStore();\n\n\tconst query = {\n\t\tboost,\n\t\tlimit,\n\t\tsort,\n\t\turl: window.location.href,\n\t};\n\n\tasync function fetchRecommendationsFromWpApi() {\n\t\treturn apiFetch( {\n\t\t\tpath: addQueryArgs( '/wp-parsely/v1/related', { query } ),\n\t\t} );\n\t}\n\n\tasync function fetchRecommendations() {\n\t\tlet response;\n\t\tlet error;\n\n\t\ttry {\n\t\t\tresponse = await fetchRecommendationsFromWpApi();\n\t\t} catch ( wpError ) {\n\t\t\terror = wpError;\n\t\t}\n\n\t\tif ( response?.error ) {\n\t\t\terror = response.error;\n\t\t}\n\n\t\tif ( error ) {\n\t\t\tdispatch( setError( { error } ) );\n\t\t\treturn;\n\t\t}\n\n\t\tlet data = response?.data || [];\n\n\t\t// When in the editor, change URLs to # for better screen reader experience.\n\t\tif ( isEditMode ) {\n\t\t\tdata = data.map( ( obj ) => {\n\t\t\t\treturn { ...obj, url: '#' };\n\t\t\t} );\n\t\t}\n\n\t\tdispatch( setRecommendations( { recommendations: data } ) );\n\t}\n\n\tconst apiMemoProps = [ ...Object.values( query ) ];\n\tconst updateRecommendationsWhenPropsChange = useCallback( fetchRecommendations, apiMemoProps );\n\tconst debouncedUpdate = useDebounce( updateRecommendationsWhenPropsChange, updateDelay );\n\n\t/**\n\t * Fetch recommendations:\n\t * - On component mount\n\t * - When an attribute changes that affects the API call.\n\t *   (This happens in the Editor context when someone changes a setting.)\n\t */\n\tuseEffect( debouncedUpdate, apiMemoProps );\n\n\t// This is a data-only component and does not render\n\treturn null;\n};\n\nexport default ParselyRecommendationsFetcher;\n","/**\n * External dependencies\n */\nimport { Card, CardBody, CardMedia } from '@wordpress/components';\n\nconst getImageForLink = ( { imagestyle, imageUrl, thumbUrlMedium } ) => imagestyle === 'original' ? imageUrl : thumbUrlMedium;\n\nconst ParselyRecommendationsListItem = ( {\n\timageAlt,\n\timagestyle,\n\trecommendation: {\n\t\ttitle: linkTitle,\n\t\turl: linkUrl,\n\t\timage_url: imageUrl,\n\t\tthumb_url_medium: thumbUrlMedium,\n\t},\n\tshowimages,\n} ) => {\n\tconst imageForLink = showimages && getImageForLink( { imagestyle, imageUrl, thumbUrlMedium } );\n\n\treturn (\n\t\t<li>\n\t\t\t<a href={ linkUrl } className=\"parsely-recommendations-link\">\n\t\t\t\t<Card className=\"parsely-recommendations-card\" size=\"custom\">\n\t\t\t\t\t{ imageForLink && (\n\t\t\t\t\t\t<CardMedia className=\"parsely-recommendations-cardmedia\">\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclassName=\"parsely-recommendations-image\"\n\t\t\t\t\t\t\t\tsrc={ imageForLink }\n\t\t\t\t\t\t\t\talt={ imageAlt }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</CardMedia>\n\t\t\t\t\t) }\n\t\t\t\t\t<CardBody className=\"parsely-recommendations-cardbody\">{ linkTitle }</CardBody>\n\t\t\t\t</Card>\n\t\t\t</a>\n\t\t</li>\n\t);\n};\nexport default ParselyRecommendationsListItem;\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport ParselyRecommendationsListItem from './parsely-recommendations-list-item';\n\nconst ParselyRecommendationsList = ( { imagestyle, recommendations, showimages } ) => (\n\t<ul className=\"parsely-recommendations-list\">\n\t\t{ recommendations.map( ( recommendation, index ) => (\n\t\t\t<ParselyRecommendationsListItem\n\t\t\t\timagestyle={ imagestyle }\n\t\t\t\timageAlt={ __( 'Image for link', 'wp-parsely' ) }\n\t\t\t\tkey={ index }\n\t\t\t\trecommendation={ recommendation }\n\t\t\t\tshowimages={ showimages }\n\t\t\t/>\n\t\t) ) }\n\t</ul>\n);\n\nexport default ParselyRecommendationsList;\n","const ParselyRecommendationsTitle = ( { title } ) => (\n\ttitle ? <p className=\"parsely-recommendations-list-title\">{ title }</p> : <></>\n);\n\nexport default ParselyRecommendationsTitle;\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport ParselyRecommendationsFetcher from './parsely-recommendations-fetcher';\nimport ParselyRecommendationsList from './parsely-recommendations-list';\nimport ParselyRecommendationsTitle from './parsely-recommendations-title';\nimport { useRecommendationsStore } from '../recommendations-store';\n\nexport default function ParselyRecommendations( {\n\tboost,\n\tlimit,\n\timagestyle,\n\tisEditMode,\n\tpersonalized,\n\tshowimages,\n\tsort,\n\ttitle,\n} ) {\n\tconst {\n\t\tstate: { error, isLoaded, recommendations },\n\t} = useRecommendationsStore();\n\n\tfunction getErrorMessage() {\n\t\tlet message = `${ __( 'Error:', 'wp-parsely' ) } ${ JSON.stringify( error ) }`;\n\t\tconst httpError = message.includes( '\"errors\":{\"http_request_failed\"' ) ||\n\t\t( typeof error === 'object' && error?.code === 'fetch_error' );\n\n\t\tif ( httpError ) {\n\t\t\tmessage = __( 'The Parse.ly Recommendations API is not accessible. You may be offline.', 'wp-parsely' );\n\t\t} else if ( message.includes( '{\"errors\":{\"403\":[\"Forbidden\"]},\"error_data\":[]}' ) ) {\n\t\t\tmessage = __( 'Access denied. Please verify that your Site ID is valid.', 'wp-parsely' );\n\t\t} else if ( typeof error === 'object' && error?.code === 'rest_no_route' ) {\n\t\t\tmessage = __( 'The REST route is unavailable. To use it, wp_parsely_enable_related_api_proxy should be true.', 'wp-parsely' );\n\t\t}\n\n\t\treturn message;\n\t}\n\n\t// Show error messages within the WordPress Block Editor when needed.\n\tlet errorMessage;\n\tif ( isLoaded && isEditMode ) {\n\t\tif ( error ) {\n\t\t\terrorMessage = getErrorMessage();\n\t\t} else if ( Array.isArray( recommendations ) && ! recommendations?.length ) {\n\t\t\terrorMessage = __( 'No recommendations found.', 'wp-parsely' );\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ParselyRecommendationsFetcher\n\t\t\t\tboost={ boost }\n\t\t\t\tlimit={ limit }\n\t\t\t\tpersonalized={ personalized }\n\t\t\t\tsort={ sort }\n\t\t\t\tisEditMode={ isEditMode }\n\t\t\t/>\n\t\t\t{ ! isLoaded && (\n\t\t\t\t<span className=\"parsely-recommendations-loading\">{ __( 'Loading…', 'wp-parsely' ) }</span>\n\t\t\t) }\n\t\t\t{ errorMessage && (\n\t\t\t\t<span className=\"parsely-recommendations-error\">{ errorMessage }</span>\n\t\t\t) }\n\t\t\t{ isLoaded && !! recommendations?.length && (\n\t\t\t\t<>\n\t\t\t\t\t<ParselyRecommendationsTitle title={ title } />\n\t\t\t\t\t<ParselyRecommendationsList\n\t\t\t\t\t\timagestyle={ imagestyle }\n\t\t\t\t\t\trecommendations={ recommendations }\n\t\t\t\t\t\tshowimages={ showimages }\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","export const RECOMMENDATIONS_BLOCK_ERROR = 'RECOMMENDATIONS_BLOCK_ERROR';\nexport const RECOMMENDATIONS_BLOCK_LOADED = 'RECOMMENDATIONS_BLOCK_LOADED';\nexport const RECOMMENDATIONS_BLOCK_RECOMMENDATIONS = 'RECOMMENDATIONS_BLOCK_RECOMMENDATIONS';\n","/**\n * External dependencies\n */\nimport { createContext, useContext, useReducer } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { RECOMMENDATIONS_BLOCK_ERROR, RECOMMENDATIONS_BLOCK_LOADED, RECOMMENDATIONS_BLOCK_RECOMMENDATIONS } from './constants';\n\nconst RecommendationsContext = createContext();\n\nconst reducer = ( state, action ) => {\n\tswitch ( action.type ) {\n\t\tcase RECOMMENDATIONS_BLOCK_ERROR:\n\t\t\treturn { ...state, isLoaded: true, error: action.error, recommendations: undefined };\n\t\tcase RECOMMENDATIONS_BLOCK_LOADED:\n\t\t\treturn { ...state, isLoaded: true };\n\t\tcase RECOMMENDATIONS_BLOCK_RECOMMENDATIONS: {\n\t\t\tconst { recommendations } = action;\n\t\t\tif ( ! Array.isArray( recommendations ) ) {\n\t\t\t\treturn { ...state, recommendations: undefined };\n\t\t\t}\n\t\t\tconst validRecommendations = recommendations.map(\n\t\t\t\t// eslint-disable-next-line camelcase\n\t\t\t\t( { title, url, image_url, thumb_url_medium } ) => ( {\n\t\t\t\t\ttitle,\n\t\t\t\t\turl,\n\t\t\t\t\timage_url, // eslint-disable-line camelcase\n\t\t\t\t\tthumb_url_medium, // eslint-disable-line camelcase\n\t\t\t\t} )\n\t\t\t);\n\t\t\treturn { ...state, isLoaded: true, error: undefined, recommendations: validRecommendations };\n\t\t}\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n\nconst RecommendationsStore = ( props ) => {\n\tconst defaultState = {\n\t\tisLoaded: false,\n\t\trecommendations: undefined,\n\t\tuuid: window.PARSELY?.config?.uuid,\n\t\tclientId: props.clientId,\n\t};\n\n\tconst [ state, dispatch ] = useReducer( reducer, defaultState );\n\treturn <RecommendationsContext.Provider value={ { state, dispatch } } { ...props } />;\n};\n\nexport const useRecommendationsStore = () => useContext( RecommendationsContext );\n\nexport default RecommendationsStore;\n","module.exports = window[\"regeneratorRuntime\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"url\"];","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * External dependencies\n */\nimport { render } from '@wordpress/element';\nimport domReady from '@wordpress/dom-ready';\n\n/**\n * Internal dependencies\n */\nimport ParselyRecommendations from './components/parsely-recommendations';\nimport RecommendationsStore from './recommendations-store';\n\ndomReady( () => {\n\tconst blocks = document.querySelectorAll( '.wp-block-wp-parsely-recommendations' );\n\tblocks.forEach( ( block, i ) =>\n\t\trender(\n\t\t\t<RecommendationsStore>\n\t\t\t\t<ParselyRecommendations { ...block.dataset } key={ i } />\n\t\t\t</RecommendationsStore>,\n\t\t\tblock\n\t\t)\n\t);\n} );\n"],"names":["RECOMMENDATIONS_BLOCK_ERROR","RECOMMENDATIONS_BLOCK_LOADED","RECOMMENDATIONS_BLOCK_RECOMMENDATIONS","setError","error","type","setRecommendations","recommendations","setLoaded","apiFetch","useDebounce","useCallback","useEffect","addQueryArgs","useRecommendationsStore","updateDelay","ParselyRecommendationsFetcher","boost","limit","sort","isEditMode","dispatch","query","url","window","location","href","fetchRecommendationsFromWpApi","path","fetchRecommendations","response","data","map","obj","apiMemoProps","Object","values","updateRecommendationsWhenPropsChange","debouncedUpdate","Card","CardBody","CardMedia","getImageForLink","imagestyle","imageUrl","thumbUrlMedium","ParselyRecommendationsListItem","imageAlt","recommendation","linkTitle","title","linkUrl","image_url","thumb_url_medium","showimages","imageForLink","__","ParselyRecommendationsList","index","ParselyRecommendationsTitle","ParselyRecommendations","personalized","state","isLoaded","getErrorMessage","message","JSON","stringify","httpError","includes","code","errorMessage","Array","isArray","length","createContext","useContext","useReducer","RecommendationsContext","reducer","action","undefined","validRecommendations","RecommendationsStore","props","defaultState","uuid","PARSELY","config","clientId","render","domReady","blocks","document","querySelectorAll","forEach","block","i","dataset"],"sourceRoot":""}